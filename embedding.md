```python
import os
import sys
import importlib,sys
importlib.reload(sys)
import jieba
from sklearn import datasets
from sklearn.feature_extraction.text import CountVectorizer,TfidfTransformer
from sklearn.svm import SVC
from sklearn.ensemble import RandomForestClassifier
from sklearn.feature_selection import chi2,SelectKBest
import pickle
from sklearn.model_selection import train_test_split


stop_words_path = "stopwords-zh.txt"

#获取停用词数据集
#可手动添加一些停用词
def read_stopwordset():
    with open(stop_words_path, "rb") as fp: 
        lines = fp.readlines()
        words = [' ','\r\n']
        for line in lines:
            words.append(line.strip())
    return words


#将模型按照model_name进行保存
def save_model(model_name,model):
    feature_path = 'models/'+model_name+'.pkl'
    with open(feature_path, 'wb') as fw:
        pickle.dump(model, fw)
        
        
#获取停用词
stopwords = read_stopwordset()









```


```python
import numpy as np
from datetime import datetime
#按类别获取文档内容
import pandas as pd
Weibo = pd.read_excel("Weibo_2020Coron.xlsx")
Weibo['title']=Weibo['title'].fillna('null')
Weibo=Weibo[~Weibo['title'].isin(['null'])]
Weibo['Unnamed: 1']=Weibo['Unnamed: 1'].fillna('null')
Weibo=Weibo[~Weibo['Unnamed: 0'].isin(['null'])]
Y = Weibo['Coron-Related ( 1 yes, 0 not ) ']
Y =Y.fillna(0)
X = Weibo['title']
T=Weibo['Unnamed: 1']
H=Weibo['searchCount']

Douyin = pd.read_excel("Douyin_2020Coron.xlsx")
Douyin['title']=Douyin['title'].fillna('title')
Douyin = Douyin[~Douyin['title'].isin(['null'])]
Douyin['date']=Douyin['date'].fillna('null')
Douyin=Douyin[~Douyin['date'].isin(['null'])]
T_2=Douyin['date']
H_2=Douyin['searchCount']
X_21=Douyin['title']



X_21=list(X_21)
X_2 = []
for i in range(len(X_21)):
    cutWords = [k for k in jieba.cut(X_21[i]) if k not in stopwords]
    X_2.append(cutWords)


X_2 = list(X_2)
X=list(X)
Y=list(Y)
X.remove(81192)
del Y[9047]
del H[9047]
del T[9047]


X1=[]
X=list(X)
for i in range(len(X)):
    cutWords = [k for k in jieba.cut(X[i]) if k not in stopwords]
    X1.append(cutWords)

X=X1


#将抖音的时间转换为和微博一样的格式
for i in range(len(T_2)):
    T_2[i]=datetime.strptime(T_2[i],'%Y/%m/%d')
    T_2[i]=T_2[i].strftime(" %Y-%m-%d %H:%M:%S")

```

    Building prefix dict from the default dictionary ...
    Loading model from cache /var/folders/fq/90_3kyc56x3gprlncwjfvbx00000gp/T/jieba.cache
    Loading model cost 1.018 seconds.
    Prefix dict has been built successfully.
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:54: SettingWithCopyWarning: 
    A value is trying to be set on a copy of a slice from a DataFrame
    
    See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:55: SettingWithCopyWarning: 
    A value is trying to be set on a copy of a slice from a DataFrame
    
    See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy



```python
#导入wor2vector模型
import multiprocessing
import gensim


model = gensim.models.Word2Vec.load('Word60.model')

#计算每个文本的词向量
def getVector_v1(cutWords, model):
        count = 0
        resou_vector = np.zeros( model.layer1_size )
        for cutWord in cutWords:
                if cutWord in model:
                        resou_vector += model[cutWord]
                        count += 1
 
        return resou_vector / count

vector_list = []
for cutWords in X:
        vector_list.append( getVector_v1(cutWords, model) )
X_all = np.array(vector_list)


vector_list = []
for cutWords in X_2:
        vector_list.append( getVector_v1(cutWords, model) )
X_all2 = np.array(vector_list)


```

    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:11: DeprecationWarning: Call to deprecated `layer1_size` (Attribute will be removed in 4.0.0, use self.trainables.layer1_size instead).
      # This is added back by InteractiveShellApp.init_path()
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:13: DeprecationWarning: Call to deprecated `__contains__` (Method will be removed in 4.0.0, use self.wv.__contains__() instead).
      del sys.path[0]
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: DeprecationWarning: Call to deprecated `__getitem__` (Method will be removed in 4.0.0, use self.wv.__getitem__() instead).
      
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:17: RuntimeWarning: invalid value encountered in true_divide



```python
import pandas as pd
 
from sklearn.preprocessing import LabelEncoder
labelEncoder = LabelEncoder()
Y = labelEncoder.fit_transform(Y)
```


```python
#用微博已标记的数据训练分类器
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split
for i in range(len(X_all)):
    sample = X_all[i]
    for j in range(len(sample)):
        if np.isnan(sample[j]):
            sample[j]=0
            
train_X, test_X, train_y, test_y = train_test_split(X_all, Y, test_size=0.33, random_state=0)
logistic_model = LogisticRegression()
logistic_model.fit(train_X, train_y)
Y_result = logistic_model.predict(test_X)

#计算准确率
correct = 0.0
for i in range(len(Y_result)):
    if test_y[i] == Y_result[i]:
        correct+=1.0
print("在测试集中准确率为："+str(correct/len(Y_result)))
        
```

    在测试集中准确率为：0.8306128734216199



```python
#对抖音数据进行分类，筛选出疫情相关的数据
for i in range(len(X_all2)):
    sample = X_all2[i]
    for j in range(len(sample)):
        if np.isnan(sample[j]):
            sample[j]=0


Y_dy=logistic_model.predict(X_all2)
num_dy=[]
for i in range(len(X_all2)):
    if Y_dy[i]!=0:
        num_dy.append(i)

```


```python
#将抖音数据和微博数据合并
H=list(H)
T=list(T)
Y=list(Y)
for i in range(len(num_dy)):
    T.append(T_2[num_dy[i]])
    H.append(H_2[num_dy[i]])
    X.append(X_2[num_dy[i]])
    Y.append(1)
```


```python
#计算两个日期天数差
def period(t1,t2):
    t1=datetime.strptime(t1,' %Y-%m-%d %H:%M:%S')
    t2=datetime.strptime(t2,' %Y-%m-%d %H:%M:%S')
    return t1-t2



```


```python
#选出总数据集中与疫情相关的行
X_no=[]
for i in range(len(X)):
    if Y[i]!=Y[1] :
        X_no.append(X[i])
    else:
        continue

T_no = []
for i in range(len(T)):
    if Y[i]!=Y[1]:
        T_no.append(T[i])
    else:
        continue

H_no = []
for i in range(len(H)):
    if Y[i]!=Y[1]:
        H_no.append(H[i])
    else:
        continue

X1_no=X_no
X_no = np.array(X_no)
```


```python
vector_list = []
for cutWords in X_no:
        vector_list.append( getVector_v1(cutWords, model) )
X_no = np.array(vector_list)
for i in range(len(X_no)):
    sample = X_no[i]
    for j in range(len(sample)):
        if np.isnan(sample[j]):
            sample[j]=0
```

    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:11: DeprecationWarning: Call to deprecated `layer1_size` (Attribute will be removed in 4.0.0, use self.trainables.layer1_size instead).
      # This is added back by InteractiveShellApp.init_path()
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:13: DeprecationWarning: Call to deprecated `__contains__` (Method will be removed in 4.0.0, use self.wv.__contains__() instead).
      del sys.path[0]
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: DeprecationWarning: Call to deprecated `__getitem__` (Method will be removed in 4.0.0, use self.wv.__getitem__() instead).
      
    /Users/rainbowsoft/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:17: RuntimeWarning: invalid value encountered in true_divide



```python
#以5天为一个滚动周期，对热搜进行聚类
from sklearn.cluster import KMeans
def period_clu(X_no,H_no,X1_no):
    kmeans = KMeans(n_clusters=5, random_state=1).fit(X_no)
    y_pred = kmeans.labels_
    cluster_center = kmeans.cluster_centers_
    from collections import Counter
    k=0
    max=0
    X_no1=[]
    for i in range(5):
        hot=0
        for j in range(len(X_no)):
            if y_pred[j] == i:
                hot+=H_no[j]
        if max<hot:
            max=hot
            k=i
    for i in range(len(X_no)):
        if y_pred[i] ==k:
            X_no1.append(X1_no[i])
    return max,X_no1
            
```


```python
from datetime import datetime
start='2020-01-01'
end='2020-04-09'
 
datestart=datetime.strptime(start,'%Y-%m-%d')
dateend=datetime.strptime(end,'%Y-%m-%d')

ds=datestart.strftime(" %Y-%m-%d %H:%M:%S")
de=dateend.strftime(" %Y-%m-%d %H:%M:%S")
hot=[]
content=[]
time=[]
for i in range(period(de,ds).days):
    m = []
    n = []
    c = []
    hotncon=[]
    for j in range(len(X_no)):
        if period(T_no[j],ds).days-i<=5 and period(T_no[j],ds).days-i>=0:
            m.append(list(X_no[j]))
            n.append(H_no[j])
            c.append(X1_no[j])
        elif period(T_no[j],ds).days-i==10:
            break
        else:
            continue
    if len(m)>10:
            hotncon=period_clu(m,n,c)
            hot.append(hotncon[0])
            content.append(hotncon[1])
            time.append(i)
    else:
            continue
    
    
```


```python
#选出每15天中最热门的话题
max=0
for i in range(15):
    if hot[i]>max:
        max = hot[i]
        t1=i
max=0
for i in range(15,30):
    if hot[i]>max:
        max = hot[i]
        t2=i
max=0
for i in range(30,45):
    if hot[i]>max:
        max = hot[i]
        t3=i
max=0
for i in range(45,60):
    if hot[i]>max:
        max = hot[i]
        t4=i
max=0
for i in range(60,75):
    max=0
    if hot[i]>max:
        max = hot[i]
        t5=i
max=0
for i in range(75,88):
    if hot[i]>max:
        max = hot[i]
        t6=i
print(hot[t1])
print(content[t1])
print(hot[t2])
print(content[t2])
print(hot[t3])
print(content[t3])
print(hot[t4])
print(content[t4])
print(hot[t5])
print(content[t5])
print(hot[t6])
print(content[t6])
```

    187857145.0
    [['广东', '发现', '6', '起', '家庭', '聚集', '性', '疫情'], ['肺炎', '疫情', '下', '的', '春运'], ['央视春晚', '两个', '分会场', '改为', '录播'], ['抗疫', '一线', '90', '后', '护士', '的', '手'], ['陌生', '女孩', '为', '执勤', '民警', '送', '口罩'], ['李兰娟', '回应', '新型', '肺炎', '6', '大', '疑问'], ['护目镜'], ['北大', '呼吸', '发哥'], ['春节', '最美', '逆', '行者'], ['湖北', '主持人', '戴', '口罩', '播报'], ['医护人员', '齐喊', '武汉', '必胜'], ['广东', '启动', '重大', '突发', '公共卫生', '事件', '一级', '响应'], ['武汉', '将', '以', '小汤山', '模式', '建', '医院'], ['小汤山', '非典', '医疗队', '请战', '书'], ['武汉', '一名', '新型', '肺炎', '患者', '被', '成功', '救治'], ['武汉', '7', '名', '医生', '在', '请战', '书上', '按下', '红', '手印'], ['各地', '医生', '驰援', '湖北'], ['民航', '机票', '免收', '退票费'], ['湖北', '回应', '涨价', '菜'], ['丁香', '医生'], ['武汉', '86', '岁', '老', '专家', '坐轮椅', '出诊'], ['武汉', '新冠', '肺炎', '社会', '捐赠', '方式'], ['武汉', '封城后', '的', '市民', '生活'], ['野味'], ['武汉', '文娱', '场所', '暂停营业'], ['医生', '请战', '书'], ['湖北', '一家', '三口', '去', '山东', '过年', '被', '举报'], ['湖北', '商务厅', '副厅长', '感染', '新冠', '病毒'], ['钟南山', '任', '疫情', '应急', '科研', '攻关', '组长'], ['广东', '累计', '家庭', '聚集', '性', '疫情', '10', '起'], ['武汉', '护士', '的', '朋友圈'], ['退票'], ['雍和宫', '闭馆'], ['武汉', '女', '医护人员', '自发', '剪掉', '长发'], ['新型', '冠状病毒', '预防', '教程'], ['退掉', '返乡', '车票', '的', '湖北', '旅客'], ['武汉', '将', '以', '小汤山', '模式', '建', '医院'], ['武汉', '医生', '的', '年夜饭'], ['武汉', '医院', '呼吁', '市民', '别送', '慰问品'], ['新冠', '肺炎', '进入', '第二', '波', '流行', '上升期'], ['除夕夜', '重庆', '135', '位', '医生', '奔赴', '武汉'], ['武汉', '小汤山', '医院', '定名', '火神', '山', '医院'], ['武汉', '版', '小汤山', '工人', '年夜饭'], ['医护人员', '隔离', '缓冲区', '拜年'], ['首都机场', '大兴', '机场', '将', '对', '旅客', '体温', '检测'], ['广东', '发现', '1', '起', '工作', '同事', '聚集', '性', '疫情'], ['首个', '新冠', '病毒检测', '试剂盒', '通过', '检验'], ['北京', '又', '一名', '新型', '肺炎', '患者', '痊愈', '出院'], ['三', '所', '军医大学', '450', '人', '医疗队', '支援', '湖北'], ['除夕夜', '的', '武汉'], ['医生', '挨个', '进', '隔离病房', '互相', '打气'], ['商务部', '紧急', '协调', '200', '多万只', '口罩'], ['梁', '武东', '医生', '因新冠', '肺炎', '去世'], ['武汉', 'ICU', '医生', '的', '心愿'], ['武汉', '人', '夜晚', '隔空', '喊话'], ['湖北', '疫情', '防控', '举报', '方式'], ['广州', '城管局', '副局长', '被', '确诊', '新型', '肺炎'], ['香港', '将', '疫情', '应变', '级别', '提升', '至', '最高级'], ['物资', '如何', '送', '进', '武汉'], ['武汉市', '内', '交通', '部分', '解禁'], ['东北', '野味'], ['柳叶刀'], ['党中央', '成立', '应对', '疫情', '领导', '工作', '小组'], ['火神', '山', '雷', '神山'], ['传染病', '学', '专家', '表示', '疫情', '已', '刻不容缓'], ['明星', '捐款'], ['广东', '汕头', '禁止', '车辆', '船只', '人员', '进入'], ['韩红'], ['消毒液'], ['一动不动', '按兵不动'], ['山西', '染病', '中巴', '乘客', '全部', '找到'], ['北京', '三名', '医生', '感染', '新型', '肺炎'], ['河南', '村庄', '为', '阻', '走', '亲友', '挖掘机', '断路'], ['医生', '请战', '书上', '的', '5', '个', '感叹号'], ['东北', '野味'], ['黄冈', '版', '小汤山', '医院'], ['中国', '马蹄', '蝠'], ['医护人员', '发放', '临时性', '工作', '补助'], ['柳叶刀'], ['湖北省', '长', '表示', '痛心', '内疚', '自责'], ['华南', '海鲜', '市场', '存在', '大量', '新冠', '病毒'], ['武汉', '火神', '山', '医院', '第一间', '病房', '建成'], ['武汉', '协和', '医护人员', '临床', '症状', '得到', '控制'], ['药店', '10', '倍', '价格', '卖', '口罩', '被', '查处'], ['买', '10', '万', '只', '口罩', '租车', '运回', '家乡'], ['雷', '神山', '医院', '工人', '没谈', '报酬', '就', '赶到', '工地'], ['村官', '隐瞒', '4', '家属', '从', '武汉', '来', '被', '免职'], ['患者', '确诊', '前', '坐遍', '青岛', '所有', '地铁'], ['安徽', '出现', '聚集', '性', '疫情'], ['浙江', '成功', '分离', '到', '新型', '冠状病毒', '毒株'], ['总理', '来', '武汉'], ['湖北', '3', '名', '干部', '防控', '疫情', '不力', '被', '查处'], ['强行', '带疑染', '新型', '肺炎', '孩子', '离境', '被捕'], ['戴', '口罩', '自拍', '大赛'], ['长发', '护士', '抗击', '疫情', '剪', '光头'], ['武汉市', '民', '客厅', '跳', '广场', '舞', '解压'], ['火车票', '免费', '退票', '措施'], ['河南', '村长'], ['抗病毒', '喷剂'], ['广东', '首株', '新型', '冠状病毒', '毒株', '分离'], ['女儿', '举报', '父母', '外出', '打牌', '聚会'], ['武汉', '小区', '组织', '唱国歌'], ['火神', '山', '施工现场', '航拍'], ['记者', '探访', '华南', '海鲜', '市场'], ['山东', '首个', '新型', '冠状病毒', '检测', '产品'], ['丹麦', '媒体', '刊载', '辱华', '漫画'], ['美', '疾控中心', '对华', '旅行', '警告', '升至', '最高级别'], ['福建', '防疫', '一线', '医生', '车祸', '身亡'], ['进藏', '者', '一律', '定点', '隔离', '观察', '14', '天'], ['抗病毒', '喷剂'], ['天津', '成立', '疫情', '医疗', '救治', '总医院'], ['年', '下', '直球'], ['国家', '卫健委', '通报', '出院', '标准'], ['疫情', '联防', '联控', '实时', '播报'], ['武汉', '市委书记', '回应', '歧视', '湖北', '人'], ['新型', '肺炎', '疫情', '可能', '元宵节', '前', '好转'], ['未经', '批准', '擅自', '断路', '将', '依法', '处置'], ['火神', '山', '医院', '效果图'], ['武汉', '87', '岁', '婆婆', '治愈', '出院'], ['台湾', '首', '起', '家庭', '聚集', '性', '病例'], ['分离', '到', '三株', '新型', '冠状病毒', '毒株'], ['世卫', '组织', '将', '尽快', '派出', '国际', '专家', '考察组'], ['女子', '武汉', '返乡', '无症状', '亲人', '被', '确诊'], ['无症状'], ['雷', '神山', '开始', '搭建', '板房'], ['新型', '肺炎', '疫情', '可能', '元宵节', '前', '好转']]
    112348405.0
    [['哈尔滨', '春节', '聚餐', '致多人', '感染'], ['卫星', '图看', '武汉', '今昔对比'], ['多所', '高校', '派', '医护人员', '驰援', '武汉'], ['中国红十字会总会', '派', '工作组', '赴', '湖北', '武汉'], ['各地', '复工', '复课', '时间表'], ['河北', '一', '区委书记', '因控疫', '不力', '被', '问责'], ['武汉', '金银', '潭', '医院', '接受', '社会', '捐赠', '公告'], ['空军', '8', '架', '大型', '运输机', '抵达', '武汉'], ['李兰娟', '院士', '带队', '抵达', '武汉'], ['湖南', '4', '人', '防控', '疫情', '不力', '被', '停职'], ['可', '直接', '与', '武汉', '医院', '对接', '捐赠'], ['黄冈', '也', '收到', '直达', '救援', '物资'], ['深圳', '女房东', '主动', '降租', '80', '万'], ['民企', '接手', '武汉', '红会', '物资', '工作'], ['恢复', '上班', '后', '北京地铁', '将', '控制', '满载', '率'], ['央行', '将', '投放', '1.2', '万亿元', '流动性'], ['武汉', '高三', '学生', '网上', '开学'], ['济州岛', '暂停', '免签'], ['武汉', '家中', '滞留', '宠物', '救援'], ['深圳', '一', '新增', '患者', '为', '外卖', '骑手'], ['解放军', '承担', '武汉市', '民', '物资', '配送', '供应'], ['口罩', '全国', '日产', '2000', '多万只'], ['开工', '大吉'], ['武汉', '定点医院', '病床', '剩余', '情况'], ['驻', '鄂', '部队', '50', '台', '卡车', '运送', '200', '吨', '物资'], ['宁波', '一次', '聚餐', '祈福', '25', '人', '确诊'], ['天津', '再备', '3', '座', '小汤山'], ['居民', '穿过', '5', '米', '消毒', '通道', '进', '小区'], ['上海', '推迟', '调整', '社保', '缴费', '基数'], ['武汉', '最新', '城市', '宣传片'], ['远程', '办公'], ['教育部', '致', '全国', '大学生', '的', '一封信'], ['正式', '开学', '前', '不要', '提前', '网上', '教学'], ['义乌', '火车站'], ['杭州', '小区'], ['湖北', '以外', '地区', '有序', '逐渐', '恢复', '交通'], ['武汉', '全市', '开展', '消毒', '杀菌'], ['杭州', '所有', '村庄', '小区', '单位', '封闭式', '管理'], ['武汉', '洪山', '体育馆', '800', '张', '病床', '就位'], ['中山', '11', '月', '大', '婴儿', '治愈', '出院'], ['海南', '最小', '感染者', '仅', '3', '个', '月'], ['杭州', '非', '涉及', '生活必需', '公共场所', '一律', '关闭'], ['哈尔滨', '所有', '小区', '封闭', '管理'], ['试剂盒', '检测时间', '缩短', '到', '1', '天'], ['湖北', '禁止', '堆砌', '断路', '中断', '公路交通'], ['5', '个', '废弃', '口罩', '换', '1', '块', '肥皂'], ['再', '增加', '2000', '名', '医护人员', '支援', '湖北'], ['武汉', '发热', '门诊', '就诊', '人次', '增幅', '已', '放缓'], ['提前', '复工', '老板', '拘留', '5', '天'], ['南京', '实施', '小区', '封闭式', '管理'], ['武汉', '超市', '3', '天后', '关门', '系', '谣言'], ['景德镇', '实施', '封闭式', '管理'], ['内蒙古', '40', '余人', '防疫', '不力', '被', '通报'], ['方舱', '医院', '1100', '张', '床位', '5', '日', '启用'], ['外交部', '回应', '日本', '网友', '给', '武汉', '加油'], ['黑龙江', '查扣', '假冒伪劣', '口罩', '2', '万余个'], ['湖南', '90', '后', '乡镇', '医生', '劳累过度', '猝死'], ['北京', '查获', '2', '万多只', '假冒', '3M', '口罩'], ['2.4', '万余门', '在线', '课程', '免费', '开放'], ['李兰娟', '每天', '只', '睡', '3', '小时'], ['首架', '俄罗斯', '军机', '飞抵', '武汉'], ['高校教师', '线上', '教学', '计入', '教学', '工作量'], ['寻', '504', '个', '车次', '航班', '同行', '乘客'], ['全国', '调配', '1000', '名', 'ICU', '护士'], ['团购', '5', '万', '只', '口罩', '一', '撕', '就', '碎'], ['网民', '编造', '解放军', '进城', '全面', '接管', '被', '刑拘'], ['武汉', '方舱', '医院', '增至', '11', '家'], ['提前', '复工', '老板', '拘留', '5', '天'], ['湖北', '再次', '紧急', '下达', '2', '亿', '补助', '救治', '场所'], ['武汉', '火眼', '实验室', '试运行'], ['江苏', '药店', '购', '退烧', '止咳药', '需', '实名', '登记'], ['铁路', '再次', '调整', '免费', '退票'], ['辽宁', '全省', '小区', '封闭', '管理'], ['宁波', '地铁', '明日', '起', '暂停', '运营'], ['132', '个', '隔离', '点', '集中', '隔离', '5425', '人'], ['信阳', '急需', 'N95', '口罩', '1.3', '万个'], ['2.4', '万余门', '在线', '课程', '免费', '开放'], ['上海', '各级', '各类', '学校', '2', '月底', '前', '不', '开学'], ['上海', '地铁', '不戴', '口罩', '不得', '进站'], ['全国', '首个', '测温', '巡逻', '机器人'], ['停产', '10', '年', '口罩', '生产线', '恢复', '生产'], ['口罩', '日产量', '已', '达到', '1480', '万', '只'], ['央视', '元宵', '晚会', '取消', '观众', '设置'], ['北京', '减免', '中小', '微', '企业', '房租'], ['广东', '发布', '二号', '口罩', '令'], ['四川', '内江', '查获', '50', '余万', '个', '三无', '口罩'], ['店铺', '老板', '殴打', '防疫', '人员', '被', '拘', '10', '日'], ['汶川', '村民', '自发', '支援', '武汉', '100', '吨', '蔬菜'], ['武汉', '两个', '硬任务'], ['武汉', '首个', '方舱', '医院', '开始', '收治病人'], ['河北', '防疫', '期间', '7', '人', '聚众赌博', '被', '拘'], ['随州', '一县', '医院', '多项', '防护', '物资', '库存', '为', '0'], ['湖北', '副省长', '回应', '武汉市', '民', '网络', '求助'], ['李娜', '捐赠', '300', '万'], ['水果', '姐', '中文', '为', '武汉', '加油'], ['大理', '将', '暂扣', '口罩', '全部', '放行', '退还'], ['随州', '医用', '物资', '库存', '仅供', '3', '天', '使用'], ['武汉', '全民', '体温', '监测'], ['西藏', '连续', '8', '天无', '新增', '或', '疑似'], ['央行', '两天', '投放', '基础', '货币', '1.7', '万亿元'], ['钱七虎', '院士', '向', '武汉', '捐款', '650', '万'], ['南京', '医院', '用', '机器人', '发药'], ['各级', '财政', '共', '安排', '疫情', '防控', '资金', '667.4', '亿元'], ['湖北', '副省长', '回应', '武汉市', '民', '网络', '求助'], ['春节', '延长', '假', '期间', '上班', '先', '安排', '补休'], ['北京', '首次', '公布', '疑似病例', '数量'], ['教育部', '未经', '学校', '批准', '不准', '返校'], ['深圳', '所有', '小区', '封闭', '管理'], ['16', '省份', '一省', '包一市', '支援', '湖北'], ['济南', '一家', '三代', '6', '口人', '感染'], ['106', '辆', '军用', '卡车', '为', '武汉', '运', '生活', '物资'], ['成都', '小区', '封闭', '管理'], ['广东', '学校', '2', '月底', '前', '不', '开学'], ['安徽', '学校', '2', '月底', '前', '不', '开学'], ['楼下', '老板', '实行', '闭门', '营业'], ['春节', '延长', '假', '期间', '上班', '先', '安排', '补休'], ['济南', '一家', '三代', '6', '口人', '感染'], ['安徽', '学校', '2', '月底', '前', '不', '开学']]
    59590797.0
    [['全国', '新冠', '肺炎', '累计', '死亡', '破千'], ['全国', '累计', '确诊', '新型', '肺炎', '42638', '例'], ['武汉', '发热', '患者', '不得', '跨区', '就诊'], ['WHO', '新冠', '病毒', '不怕', '炎热', '湿润', '天气'], ['方舱', '医院', '患者', '跳萨日朗'], ['口罩', '企业', '复工', '率', '已', '超过', '76%'], ['黄冈', '全面', '排查', '发现', '发热', '病人', '13000', '人'], ['黄冈', '疫情', '前期', '存量', '全部', '检测', '完毕'], ['中药', '在', '疾病', '早期', '介入', '成效', '明显'], ['武汉', '疑似', '病人', '存量', '加速', '消化'], ['全国', '累计', '确诊', '新冠', '肺炎', '44653', '例'], ['患者', '感染', '程度', '与', '机体', '免疫', '状态', '密切相关'], ['日本', '邮轮', '确诊', '174', '例新冠', '肺炎'], ['江苏', '累计', '确诊', '新冠', '肺炎', '543', '例'], ['隐瞒', '病情', '患者', '刚', '出院', '就', '被', '拘留'], ['火神', '山', '医院', '收治', '患者', '超', '900', '人'], ['公共场所', '发现', '病例', '停用', '空调', '通风', '系统'], ['疫情', '形势', '出现', '3', '个', '积极', '变化'], ['福建', '莆田', '一', '村庄', '24', '例', '聚集', '性', '疫情'], ['疑似', '或', '确诊', '孕产妇', '产检', '和', '分娩', '定点医院'], ['天津', '公开', '第三例', '死亡', '病例', '抢救', '措施'], ['95', '后', '男护士', '病房', '内带', '患者', '打', '太极'], ['武汉', '感染', '人数', '未', '摸清'], ['金银', '潭', '医院', '恳请', '康复', '患者', '捐献', '血浆'], ['童', '朝晖', '新冠', '肺炎', '比', 'SARS', '病情', '进展', '快'], ['全国', '累计', '确诊', '新冠', '肺炎', '59804', '例'], ['一家', '7', '口', '不在意', '亲戚', '确诊', '全部', '感染'], ['水彩画家', '刘寿祥', '因新冠', '肺炎', '去世'], ['夫妻', '殴打', '防疫', '人员', '被', '判刑'], ['日本', '出现', '首例', '新冠', '肺炎', '死亡', '病例'], ['多地', '明确', '延迟', '开学', '时间', '可用', '暑期', '补齐'], ['治疗', '性新冠', '特免', '血浆', '制品', '已', '投入', '临床'], ['全国', '累计', '确诊', '新冠', '肺炎', '63851', '例'], ['吃', '中药', '后新冠', '肺炎', '患者', '紧张', '心理', '得到', '缓解'], ['方舱', '医院', '医生', '给', '患者', '送花', '过节'], ['湖北', '一半', '以上', '确诊', '病例', '都', '用', '中医药', '治疗'], ['新冠', '肺炎', '在', '非洲大陆', '首例', '确诊', '病例'], ['全国', '累计', '确诊', '新冠', '肺炎', '66492', '例'], ['武汉', '重症', '病例', '约', '占', '确诊', '和', '住院', '病例', '18%'], ['新冠', '病毒', '显微镜', '彩照'], ['印度', '南部', '3000', '多人', '被', '隔离'], ['国新办', '疫情', '防控', '发布会'], ['新冠', '肺炎', '已', '开始', '在', '日本', '流行'], ['确诊', '小伙', '40', '多位', '密切接触', '者', '未', '被', '感染'], ['日本', '疫情'], ['武汉', '病毒', '所', '目前', '零', '感染'], ['新冠', '肺炎', '已', '开始', '在', '日本', '流行'], ['全国', '累计', '确诊', '新冠', '肺炎', '68500', '例'], ['广东', '报告', '一起', '学校', '诺如', '病毒', '疫情'], ['首个', '潜在', '治疗', '新冠', '肺炎', '药物', '获批', '上市'], ['日本', '疫情']]
    55255006.0
    [['钟南山', '疫情', '不', '一定', '发源', '在', '中国'], ['美国', '现', '首例', '无法', '确定', '病源', '新冠', '肺炎', '患者'], ['特朗普', '称新冠', '病毒', '风险', '对', '美国', '依旧', '很', '低'], ['韩国', '新冠', '肺炎', '累计', '1595', '例'], ['世卫', '专家', '称若', '感染', '希望', '在', '中国', '治疗'], ['德国', '出现', '士兵', '感染'], ['武汉', '零', '感染', '小区'], ['伊朗', '副', '总统', '新型', '冠状病毒', '检测', '呈', '阳性'], ['韩日', '抗击', '疫情', '中国', '不会', '缺席'], ['专家', '释疑', '病人', '出院', '后', '检测', '呈', '阳性'], ['前', '伊朗', '驻', '梵蒂冈', '大使', '因', '感染', '冠状病毒', '去世'], ['又', '一名', '伊朗', '高官', '确诊', '新冠', '肺炎'], ['韩国', '新冠', '肺炎', '感染', '增至', '1766', '人'], ['韩', '专家', '回应', '精神科', '几乎', '全员', '确诊'], ['多', '国', '确诊', '病例', '攀升'], ['23', '岁', '伊朗', '女足', '国脚', '因新冠', '肺炎', '去世'], ['韩国', '累计', '确诊', '新冠', '肺炎', '2022', '例'], ['下周', '将', '是', '伊朗', '疫情', '爆发', '高峰期'], ['库克', '认为', '中国', '开始', '控制', '住', '新冠', '病毒'], ['美国', '加州', '33', '人', '病毒检测', '阳性'], ['意大利', '考虑', '只', '公布', '重症', '确诊', '患者'], ['武汉', '雷', '神山', '医院', '出院', '患者', '达', '117', '人'], ['新冠', '肺炎', '全球', '风险', '级别', '调', '为', '非常', '高'], ['韩国', '监狱', '出现', '首例', '新冠', '肺炎'], ['美国', '出现', '第三例', '感染', '途径', '不明', '病例'], ['美国', '疫情'], ['世卫', '组织', '新冠', '病毒', '源头', '尚', '不', '确定'], ['谷歌', '一', '员工', '确诊', '新冠', '肺炎'], ['法国', '总统', '称', '不会', '因', '疫情', '关闭', '法意', '边境'], ['全国', '累计', '治愈', '首超', '现有', '确诊', '病例', '数'], ['核酸', '检测', '过程', '全纪录'], ['开学', '前后', '怎样', '防控', '新冠', '肺炎'], ['美国', '加州', '出现', '第二例', '感染', '途径', '不明', '病例'], ['伊朗', '一名', '感染', '新冠', '病毒', '议员', '去世'], ['法国', '疫情', '扩散', '进入', '第二阶段'], ['韩国', '新冠', '肺炎', '累计', '3150', '例'], ['80', '名', '中国', '公民', '在', '俄', '隔离', '遭', '虐待', '不', '实'], ['韩', '专家', '称', '最坏', '情况', '是', '40%', '国民', '感染'], ['韩国', '出生', '45', '天', '婴儿', '感染', '新冠', '肺炎'], ['全球', '首例', '新冠', '肺炎', '病人', '肺', '移植手术', '成功'], ['全国', '累计', '确诊', '新冠', '肺炎', '79824', '例'], ['韩国', '累计', '确诊', '新冠', '肺炎', '3526', '例'], ['美国', '出现', '首例', '新冠', '肺炎', '死亡', '病例'], ['特朗普', '弄错', '首例', '新冠', '肺炎', '逝者', '性别'], ['武汉', '中心医院', '江学庆', '医生', '感染', '去世'], ['36', '岁', '医生', '抗疫时', '心脏', '骤停', '去世'], ['伊朗', '华人', '谈', '当地', '疫情'], ['刘良', '还原', '新冠', '肺炎', '逝者', '解剖', '后', '的', '肺'], ['全军', '医护', '保持', '零', '感染'], ['意大利', '新增', '566', '例新冠', '肺炎'], ['美国', '纽约州', '首次', '出现', '确诊', '病例'], ['中国', '境外', '累计', '确诊', '新冠', '肺炎', '7169', '例'], ['3D', '打印', '的', '新冠', '肺炎', '病灶', '模型'], ['韩国', '累计', '确诊', '4812', '例新冠', '肺炎'], ['世卫', '组织', '工作人员', '在', '伊朗', '感染', '新冠', '病毒'], ['NBA', '发布', '新冠', '肺炎', '备忘录'], ['黄石', '两', '村民', '发热', '打牌', '致多人', '感染'], ['新冠', '肺炎', '患者', '的', '肺', '和', 'SARS', '患者', '的', '区别'], ['美', '疾控中心', '误放', '一名', '新冠', '患者'], ['日本', '新冠', '肺炎', '治疗', '方案'], ['意大利', '累计', '确诊', '2036', '例新冠', '肺炎'], ['神农架', '发生', '野猪', '非洲', '猪瘟', '疫情'], ['泰国', '隔离']]
    43809066.0
    [['纽约', '市长', '称', '或', '有', '一半', '市民', '感染', '新冠', '病毒'], ['蓬佩奥', 'G7', '外长', '会', '再', '提', '武汉', '病毒'], ['疫情', '报道', '翻车', '现场'], ['暂停', '持', '有效', '中国', '签证', '的', '外国人', '入境'], ['美国', '年轻人', '瞎', '混', '就是', '最大', '感染', '风险'], ['安倍', '称', '疫情', '为', '国难'], ['意大利', '当周', '或', '将', '迎来', '疫情', '拐点'], ['到底', '为什么', '会', '有无', '症状', '感染者'], ['钟南山', '连线', '美国', '专家', '团队'], ['暂停', '持', '有效', '中国', '签证', '的', '外国人', '入境'], ['苏醒', '中', '的', '武汉', '什么样'], ['开学', '后', '你', '上课', '的', '状态'], ['中央政治局', '会议', '对', '疫情', '最新', '判断'], ['钟南山', '回应', '国内', '是否', '会', '二次', '暴发', '疫情'], ['疫情', '已', '影响', '全球', '200', '个', '国家', '和', '地区'], ['尚', '在', '医学观察', '的', '密切接触', '者', '增幅', '78%'], ['李兰娟', '首次', '披露', '武汉', '封城', '细节'], ['特朗普', '称', '中国', '对', '抗击', '新冠', '病毒', '理解', '深刻'], ['美国', '小哥', '实拍', '疫情', '严重', '的', '纽约'], ['谢谢', '你', '为', '湖北', '拼过', '单'], ['重启', '后', '的', '武汉', '公交', '什么样'], ['浓眉', '新冠', '检测', '呈', '阴性'], ['冰岛', '发现', '全球', '首例', '双重', '感染者'], ['全球', '最大', '安全套', '制造商', '因', '疫情', '停产'], ['安倍', '称', '日本', '疫情', '短时间', '内有', '可能', '扩大'], ['武汉', 'eStar', '赢', '了'], ['湖北', '邮政', '快递', '业已', '实现', '超', '五成', '服务', '能力'], ['美', '科学家', '称', '武汉', '绝不', '是', '新冠', '病毒', '源头'], ['钟南山', '回应', '无症状', '感染者', '情况'], ['新冠', '疫苗', '志愿者', '的', '隔离', '生活'], ['纽约州', '长称', '强制', '隔离', '相当于', '宣战'], ['对华', '关税', '正', '拖累', '美国', '抗疫'], ['3D', '视频', '展示', '新冠', '患者', '肺部', '受损', '过程'], ['钟南山', '说', '推断', '中国', '没有', '大量', '无症状', '感染者'], ['德国', '华人', '每天', '拍', '视频', '记录', '疫情'], ['误入', '武汉', '的', '保洁', '小伙', '要', '回家', '了'], ['网课', '考试', '和', '线下', '考试', '的', '区别'], ['特朗普', '回应', '复活节', '前', '能否', '结束', '疫情'], ['菲律宾', '坠毁', '医疗', '救援飞机', '无', '人生', '还'], ['疫情', '对', '我国', '工业', '经济', '影响', '是', '阶段性', '的'], ['湖北', '公务员', '招录', '计划', '增长', '20%'], ['武汉市', '医疗', '废物', '已', '实现', '日产', '日清'], ['李兰娟', '提醒', '重视', '无症状', '感染者'], ['不', '允许', '为了', '追求', '病例', '零', '报告', '而', '瞒报', '漏报'], ['厦门航空', '取消', '所有', '两岸', '航班'], ['查尔斯', '王子', '结束', '自我', '隔离'], ['特朗普', '与', '州政府', '防疫', '分歧', '严重'], ['联合国', '称', '疫情', '可能', '引发', '粮食', '危机'], ['中国', '的', '第一', '只', '口罩'], ['突然', '就', '不想', '开学', '了'], ['英国', '大臣', '暗示', '检测', '数量', '低', '是因为', '中国'], ['中央', '要求', '突出', '做好', '无症状', '感染者', '防控'], ['美国', '消毒', '再', '利用', '口罩', '大', '扩产'], ['十分', '想', '开学', '的', '四种', '人'], ['特朗普', '与', '州政府', '防疫', '分歧', '严重'], ['这', '条', '走廊', '安静', '了', '武汉', '就', '开始', '热闹', '了'], ['华春莹', '回应', '所谓', '中国', '囤积', '医疗', '物资', '论'], ['三个', '条件', '不', '满足', '不', '开学']]
    294860528.0
    [['新冠', '疫情', '是', '联合国', '成立', '以来', '最大', '考验'], ['武汉', '汉口', '江滩', '晚樱', '盛开'], ['意大利', '新冠', '肺炎', '疫情', '正', '进入', '平台', '期'], ['李兰娟', '称返', '浙后', '将', '继续', '关注', '武汉'], ['华春莹', '回应', '台湾', '捐', '1000', '万', '口罩', '给', '欧美'], ['崂山', '卫生局', '回应', '核酸', '检测', '外国人', '插队'], ['美国', '拒绝', '进口', '中国', 'KN95', '口罩'], ['中国', '抗疫', '物资', '出口', '收紧'], ['医院', '回应', '领导', '冒领', '抗疫', '补助'], ['日本政府', '将', '为', '全国', '住户', '发', '口罩'], ['美国', '暂停', '向', '国外', '援助', '医疗', '物资', '用品'], ['崂山', '再次', '回应', '核酸', '检测', '外国人', '插队'], ['外交部', '将', '向', '留学生', '派发', '1100', '多万份', '口罩'], ['男子', '开', '火车撞', '美国', '海军', '医疗', '船'], ['加州', '所有', '学校', '今年', '整个', '学年', '将', '不再', '开学'], ['武汉', '无', '疫情', '小区', '达', '99%'], ['上网', '课', '听说', '清明节', '要', '放假', '时'], ['洛杉矶', '市长', '建议', '全体', '市民', '戴', '口罩'], ['钟南山', '全程', '英文', '演讲'], ['京都', '一', '大学', '暴发', '疫情'], ['沈阳', '全面', '取消', '人才', '落户', '限制'], ['武汉', '继续', '强化', '小区', '封闭', '管理'], ['特朗普', '回应', '50', '个州', '哄抢', '医疗', '资源'], ['悉尼', '科技', '大学', '设', '湖北', '奖学金'], ['央视', '记者', '探访', '纽约', '两大', '临时', '医院'], ['清华', '美院', '艺考', '取消', '艺术', '史论', '专业', '初选'], ['英国首相', '约翰逊', '将', '延长', '隔离', '期'], ['全', '中国', '默哀', '三分钟'], ['世卫', '警告', '勿', '急于', '解除', '封闭', '措施'], ['欧盟', '对', '医疗', '物资', '暂免', '征收', '关税'], ['武汉', '天河机场', '已', '全面', '消杀'], ['武汉市', '民', '拍摄', '降半旗'], ['特朗普', '禁止', '出口', '紧缺', '医用', '物资'], ['援鄂', '医疗队', '面朝', '武汉', '方向', '默哀'], ['武汉长江大桥', '车辆', '停车', '鸣笛'], ['久久', '不愿', '离开', '的', '武汉市', '民'], ['武汉', '外卖', '骑手', '老计', '没活', '了'], ['中国', '抗疫', '图卷'], ['这是', '今天', '10', '点', '的', '武汉'], ['钟南山', '在', '办公室', '静立', '默哀'], ['援', '鄂院', '感', '专家', '10', '天', '改造', '病区'], ['为', '方舱', '厕所', '消杀', '的', '曹', '大姐'], ['英国', '从', '中国', '运回', '一整', '飞机', '防护', '物资'], ['西班牙政府', '申请', '延长', '国家', '紧急状态'], ['3M', '公司', '回应', '特朗普', '限制', '口罩', '出口'], ['纽约', '等', '地', '疫情', '或', '于', '六七天', '到达', '拐点'], ['法国', '已', '从', '中国', '订购', '近', '20', '亿个', '口罩'], ['武汉', '通报', '城管', '硬闯', '社区', '不', '配合', '防疫', '工作'], ['美国纽约', '中央公园', '建起', '野战医院'], ['武汉', '外卖', '骑手', '老计', '没活', '了'], ['重点', '打击', '口罩', '等', '防疫', '用品', '认证', '违法行为'], ['澳', '警方', '将', '刑事', '调查', '红宝石', '公主', '号', '引爆', '疫情'], ['武汉市', '发出', '无偿献血', '倡议'], ['美国', '禁止', 'N95', '口罩', '出口', '加拿大'], ['重庆', '云阳', '发生', '非洲', '猪瘟', '疫情'], ['青岛', '街道办', '回应', '优待', '外籍', '隔离', '人员'], ['驻美', '使馆', '明确', '优先', '安排', '小', '留学生', '乘机'], ['世卫', '组织', '称', '中国', '进入', '缓疫', '阶段'], ['武汉', '又', '要', '见面', '了'], ['世卫', '组织', '发布', '钟南山', '防疫', '提示'], ['武汉', '临床', '用血', '面临', '压力'], ['湖北', '高校', '返校', '后', '要求', '学生', '不', '外出', '不', '聚餐'], ['海底', '捞', '复工', '后', '涨价', '约', '6%'], ['爱尔兰', '总理', '重新', '注册', '成为', '医生'], ['外国人', '不戴', '口罩', '在', '公园', '扎堆', '聚餐'], ['中国', '发布', '新冠', '肺炎', '疫情', '纪事'], ['四川', '甘孜', '地震'], ['外交部', '回应', '中国', '留学生', '希望', '回国'], ['印度', '返乡', '人员', '被', '用水', '枪', '消杀'], ['西昌', '消防', '今日', '发起', '总攻'], ['四川', '云南', '森林', '火险', '红色', '预警'], ['西昌', '森林', '火灾', '明火', '全部', '扑灭'], ['防疫', '工作者', '免征', '个人所得税'], ['乱港', '分子', '向', '中国大使馆', '求助'], ['武汉', '天河', '国际', '机场', '进行', '全面', '消杀'], ['武汉', '继续', '强化', '小区', '封闭', '管理'], ['多地', '中国', '留学生', '晒', '健康', '包'], ['云南', '对', '全省', '林区', '实行', '封闭', '管理'], ['中国', '驻英', '使馆', '包机', '接小', '留学生', '回国'], ['钟南山', '在', '办公室', '静立', '默哀'], ['武汉', '天河', '国际', '机场', '进行', '全面', '消杀'], ['武汉', '继续', '强化', '小区', '封闭', '管理'], ['多地', '中国', '留学生', '晒', '健康', '包'], ['云南', '对', '全省', '林区', '实行', '封闭', '管理'], ['中国', '驻英', '使馆', '包机', '接小', '留学生', '回国'], ['武汉', '下半旗'], ['北京', '中小学', '期末考试', '不得', '增加', '难度'], ['国务院', '安', '委办', '通报', '郴州', '脱轨', '事故'], ['北京', '一', '新增', '输入', '病例', '曾', '在', '小区', '停留'], ['英国', '从', '中国', '运回', '一整', '飞机', '防护', '物资'], ['法国', '已', '从', '中国', '订购', '近', '20', '亿个', '口罩'], ['疑似', '口罩', '厂', '员工', '用', '口罩', '擦鞋'], ['钟南山', '在', '办公室', '静立', '默哀'], ['我国', '南海', '首次', '发现', '鲸落'], ['全国', '多地', '颁布', '紧急', '叫停', '复工', '的', '措施'], ['世卫', '组织', '称', '中国', '进入', '缓疫', '阶段'], ['全国', '多地', '推行', '公筷', '公勺', '行动'], ['全球', '疫情', '图由', '两名', '中国', '留美', '博士', '操盘'], ['青岛', '街道办', '回应', '优待', '外籍', '隔离', '人员']]



```python
from datetime import datetime
start= datetime(2020,1,1)
```


```python
#计算6个关键事件聚类所在时间
import datetime
date1= start+datetime.timedelta(days = time[t1])
date1=date1.strftime("%Y-%m-%d")

date2= start+datetime.timedelta(days = time[t2])
date2=date2.strftime("%Y-%m-%d")

date3= start+datetime.timedelta(days = time[t3])
date3=date3.strftime("%Y-%m-%d")

date4= start+datetime.timedelta(days = time[t4])
date4=date4.strftime("%Y-%m-%d")

date5= start+datetime.timedelta(days = time[t5])
date5=date5.strftime("%Y-%m-%d")

date6= start+datetime.timedelta(days = time[t6])
date6=date6.strftime("%Y-%m-%d")
```


```python
# 用textrank选出各个热门聚类的关键词
def conv_text(content):
    s1=''
    for i in range(len(content)):
        for j in range(len(content[i])):
            s1=s1+str(content[i][j])
    return s1

from jieba import analyse
keywords = jieba.analyse.textrank(conv_text(content[t1]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date1,'\t搜索总量:',hot[t1],'\n',keywords,'\n') 

keywords = jieba.analyse.textrank(conv_text(content[t2]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date2,'\t搜索总量:',hot[t2],'\n',keywords,'\n') 

keywords = jieba.analyse.textrank(conv_text(content[t3]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date3,'\t搜索总量:',hot[t3],'\n',keywords,'\n') 

keywords = jieba.analyse.textrank(conv_text(content[t4]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date4,'\t搜索总量:',hot[t4],'\n',keywords,'\n') 

keywords = jieba.analyse.textrank(conv_text(content[t5]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date5,'\t搜索总量:',hot[t5],'\n',keywords,'\n') 

keywords = jieba.analyse.textrank(conv_text(content[t6]), topK=20, withWeight=True, allowPOS=('n','nr','ns'))
print(date6,'\t搜索总量:',hot[t6],'\n',keywords,'\n') 
```

    2020-01-23 	搜索总量: 187857145.0 
     [('武汉', 1.0), ('疫情', 0.541713301393405), ('医生', 0.40322826738448136), ('肺炎', 0.3688723866818445), ('医院', 0.326844243321693), ('湖北', 0.31568905276480747), ('火神', 0.24686312293186927), ('新冠', 0.23344817396457448), ('小汤山', 0.22681602077841959), ('广东', 0.19788958809259427), ('口罩', 0.190476925083455), ('医护人员', 0.17685775416379015), ('野味', 0.1349567507398352), ('出院', 0.12020809385416628), ('专家', 0.11512423930441944), ('神山', 0.11145418042730647), ('河南', 0.11097100626911867), ('护士', 0.10549701553351523), ('喷剂', 0.0994881321593048), ('家庭', 0.0951350443964191)] 
    
    2020-02-02 	搜索总量: 112348405.0 
     [('武汉', 1.0), ('口罩', 0.36622399329443156), ('小区', 0.3137694851236052), ('医院', 0.2315344121967104), ('湖北', 0.22383512827743568), ('物资', 0.2148447361868635), ('全国', 0.13722419150756127), ('封闭式', 0.13555602122953303), ('学校', 0.12099975146521981), ('开学', 0.11911507737343405), ('方舱', 0.11763032884676125), ('杭州', 0.1038950657027604), ('院士', 0.10383194513820766), ('北京', 0.10377443649819038), ('武汉市', 0.10163522815446449), ('教育部', 0.09865077150067313), ('教学', 0.09802262615916531), ('老板', 0.09440306570777844), ('小汤山', 0.09393474485998388), ('病床', 0.09067346868834207)] 
    
    2020-02-11 	搜索总量: 59590797.0 
     [('新冠', 1.0), ('肺炎', 0.9827001332249833), ('患者', 0.7447489079937343), ('疫情', 0.44995034634031594), ('病例', 0.3862623693802069), ('日本', 0.3856558242024639), ('全国', 0.3741485956751582), ('武汉', 0.33221980975839194), ('医院', 0.32553912799985907), ('病毒', 0.29087854338070895), ('方舱', 0.19780929599551467), ('全部', 0.1742045104894236), ('首例', 0.1724852876110273), ('中药', 0.16498159051653324), ('莆田', 0.16175524684598055), ('时间', 0.16170948857425366), ('福建', 0.16101139315178062), ('开学', 0.1605434701792616), ('村庄', 0.16018321372845284), ('存量', 0.1586356087725953)] 
    
    2020-02-27 	搜索总量: 55255006.0 
     [('新冠', 1.0), ('肺炎', 0.881231647953787), ('疫情', 0.35759887209597946), ('伊朗', 0.2784563381757278), ('美国', 0.2666733202077113), ('韩国', 0.2524728551859902), ('首例', 0.23157475071556644), ('患者', 0.21262936139959554), ('中国', 0.19069077570987747), ('病例', 0.1828585426744914), ('武汉', 0.1817492375886744), ('病毒', 0.17202217429805094), ('专家', 0.13833348868087852), ('阳性', 0.11735951408495393), ('世卫', 0.1134899923750008), ('意大利', 0.10482395368465451), ('病人', 0.10278755715511514), ('出院', 0.1013170504913246), ('特朗普', 0.10104602867754497), ('全球', 0.09996300532542222)] 
    
    2020-03-26 	搜索总量: 43809066.0 
     [('疫情', 1.0), ('武汉', 0.5825377056978353), ('中国', 0.5548065590819543), ('感染者', 0.480368320468067), ('新冠', 0.4467697108719822), ('美国', 0.416382094203629), ('特朗普', 0.3631651839390539), ('钟南山', 0.32670991153373913), ('全球', 0.31621618948323593), ('病毒', 0.2995720953445234), ('医疗', 0.2588144938136688), ('湖北', 0.24621114379438627), ('安倍', 0.21115212457293023), ('视频', 0.2108886186636282), ('入境', 0.19113562298012782), ('开学', 0.17814644263561658), ('外国人', 0.16911399519058304), ('分歧', 0.16505683691299824), ('纽约', 0.1481081760291154), ('病例', 0.14355350099382255)] 
    
    2020-04-01 	搜索总量: 294860528.0 
     [('武汉', 1.0), ('中国', 0.8956893773869472), ('口罩', 0.8107815914786071), ('疫情', 0.6265061516727543), ('留学生', 0.37165607199317463), ('物资', 0.3475963209280307), ('钟南山', 0.29181236457266907), ('全面', 0.28359194332196913), ('美国', 0.28094792874034175), ('医疗', 0.2755503230293543), ('回国', 0.2435596789873176), ('肺炎', 0.20830138249924368), ('四川', 0.20146165103178695), ('大学', 0.19998580576612332), ('森林', 0.19860363445180518), ('新冠', 0.19806510091730092), ('武汉市', 0.19708920800055416), ('办公室', 0.19660285127602403), ('小区', 0.18915001369535767), ('北京', 0.1853291759214011)] 
    



```python

```
